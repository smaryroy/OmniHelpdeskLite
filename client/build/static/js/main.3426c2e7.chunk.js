(this.webpackJsonpmern=this.webpackJsonpmern||[]).push([[0],{38:function(e,a,t){},53:function(e,a,t){e.exports=t.p+"static/media/omnihelp_bnr300px.50695910.png"},55:function(e,a,t){e.exports=t(87)},87:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(34),s=t.n(l),c=t(33),o=t.n(c),m=t(39),i=t(44),u=t(19),p=t(20),d=t(22),E=t(21),h=t(17),g=t.n(h),f=t(6),b=t(42),N=function(){return console.log("in api.js"),g.a.get("/api/tickets")},v=t(52),y=t(15),w=t(24),O=t(43),j=t(25),k=t(26);t(38);var S=function(){var e=Object(n.useState)([]),a=Object(b.a)(e,2),t=a[0],l=a[1],s=Object(n.useState)({}),c=Object(b.a)(s,2);function o(){console.log("loadTickets"),N().then((function(e){return l(e.data)})).catch((function(e){return console.log(e)}))}return c[0],c[1],Object(n.useEffect)((function(){o()}),[]),r.a.createElement(v.a,{className:"main-c"},r.a.createElement(w.a,null,r.a.createElement(y.a,{sm:3,className:"catMenu"},r.a.createElement(j.a,null,r.a.createElement(j.a.Toggle,{variant:"success",id:"dropdown-basic"},"Sort By"),r.a.createElement(j.a.Menu,null,r.a.createElement(j.a.Item,{href:"#/action-1"},"Priority"),r.a.createElement(j.a.Item,{href:"#/action-2"},"Another action"),r.a.createElement(j.a.Item,{href:"#/action-3"},"Something else"))),r.a.createElement("h6",{className:"sub-header"},"Categories"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("a",{href:"#"},"General")),r.a.createElement("li",null,r.a.createElement("a",{href:"#"},"Security"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("a",{href:"#"},"Account Issues")),r.a.createElement("li",null,r.a.createElement("a",{href:"#"},"Permissions")," "))),r.a.createElement("li",null,r.a.createElement("a",{href:"#"},"Software"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("a",{href:"#"},"Installations")),r.a.createElement("li",null,r.a.createElement("a",{href:"#"},"Bugs")," "))),r.a.createElement("li",null," ",r.a.createElement("a",{href:"#"},"Hardware")," "))),r.a.createElement(y.a,{className:"mybg"},r.a.createElement(w.a,null,r.a.createElement(y.a,{sm:3},r.a.createElement("h4",{className:"sub-header"},"Tickets"))),r.a.createElement(w.a,{className:"aln-left"},r.a.createElement(y.a,{sm:2}," ",r.a.createElement("a",{href:"#",className:"link-pad"},"Open(2)")," "),r.a.createElement(y.a,{sm:2}," ",r.a.createElement("a",{href:"#",className:"link-pad"},"All(7)")," "),r.a.createElement(y.a,null)),r.a.createElement(w.a,null,t.length?r.a.createElement(O.a,{className:"ticket-list"},t.map((function(e){return r.a.createElement(O.a.Item,{className:"mycard-item",key:e._id},r.a.createElement(k.a,null,r.a.createElement(k.a.Body,{className:"mycard"},r.a.createElement(w.a,null,r.a.createElement(y.a,null,r.a.createElement(k.a.Title,{className:"mycard-title"},e.title)),r.a.createElement(y.a,null,r.a.createElement(k.a.Text,{className:"mycard-text aln-right"},"Priority:  "+e.priority))),r.a.createElement(w.a,null,r.a.createElement(y.a,null,r.a.createElement(k.a.Text,null,e.description)),r.a.createElement(y.a,{className:"aln-right"},r.a.createElement(k.a.Link,{href:"#"},"See Details"))))))}))):r.a.createElement("h3",null,"No Results to Display")))))},x=t(16),I=t(53),C=t.n(I),L=function(e){Object(d.a)(t,e);var a=Object(E.a)(t);function t(){return Object(u.a)(this,t),a.apply(this,arguments)}return Object(p.a)(t,[{key:"render",value:function(){return console.log(this.props),r.a.createElement("header",{className:"navbar App-header",id:"nav-container"},r.a.createElement("div",{className:"left-pad-small"},this.props.isLoggedIn?r.a.createElement("section",{className:"navbar-section"},r.a.createElement(x.b,{to:"#",className:"btn btn-link text-secondary",onClick:this.props.logout},r.a.createElement("span",{className:"blue-text"},"Log Out"))):r.a.createElement("section",{className:"navbar-section"},r.a.createElement(x.b,{to:"/",className:"btn btn-link text-secondary"},r.a.createElement("span",{className:" blue-text"},"Home")),r.a.createElement(x.b,{to:"/login",className:"btn btn-link text-secondary"},r.a.createElement("span",{className:"blue-text"},"Log In")),r.a.createElement(x.b,{to:"/signup",className:"btn btn-link text-secondary"},r.a.createElement("span",{className:"blue-text"},"Sign Up")))),r.a.createElement("div",{className:"col-4 col-mr-auto"},r.a.createElement("div",{id:"top-filler"}),r.a.createElement("img",{src:C.a,className:"App-logo",alt:"logo"})))}}]),t}(n.Component),U=function(e){Object(d.a)(t,e);var a=Object(E.a)(t);function t(){var e;return Object(u.a)(this,t),(e=a.call(this)).handleChange=function(a){e.props.updateUser(a.target.name,a.target.value)},e.handleSubmit=function(a){a.preventDefault(),e.props.login(),e.setState({redirect:!0})},e.state={redirect:!1},e}return Object(p.a)(t,[{key:"render",value:function(){return this.state.redirect?r.a.createElement(f.a,{push:!0,to:"/tickets"}):r.a.createElement("div",{className:"myform"},r.a.createElement("h4",null,"Login"),r.a.createElement("form",{className:"form-horizontal"},r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"col-1 col-ml-auto"},r.a.createElement("label",{className:"form-label",htmlFor:"username"},"Username")),r.a.createElement("div",{className:"col-3 col-mr-auto"},r.a.createElement("input",{className:"form-input",type:"text",id:"username",name:"username",placeholder:"Username",onChange:this.handleChange}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"col-1 col-ml-auto"},r.a.createElement("label",{className:"form-label",htmlFor:"password"},"Password:"," ")),r.a.createElement("div",{className:"col-3 col-mr-auto"},r.a.createElement("input",{className:"form-input",placeholder:"password",type:"password",name:"password",onChange:this.handleChange}))),r.a.createElement("div",{className:"form-group "},r.a.createElement("div",{className:"col-7"}),r.a.createElement("button",{className:"btn btn-primary col-1 col-mr-auto",onClick:this.handleSubmit,type:"submit"},"Login"))))}}]),t}(n.Component),A=function(e){Object(d.a)(t,e);var a=Object(E.a)(t);function t(){var e;return Object(u.a)(this,t),(e=a.call(this)).handleChange=function(a){e.props.updateUser(a.target.name,a.target.value)},e.handleSubmit=function(a){a.preventDefault(),e.props.register(),e.setState({redirect:!0})},e.state={redirect:!1},e}return Object(p.a)(t,[{key:"render",value:function(){return this.state.redirect?r.a.createElement(f.a,{push:!0,to:"/login"}):r.a.createElement("div",{className:"myform"},r.a.createElement("h4",null,"Sign up"),r.a.createElement("form",{className:"form-horizontal"},r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"col-1 col-ml-auto"},r.a.createElement("label",{className:"form-label",htmlFor:"username"},"Username")),r.a.createElement("div",{className:"col-3 col-mr-auto"},r.a.createElement("input",{className:"form-input",type:"text",id:"username",name:"username",placeholder:"Username",onChange:this.handleChange}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"col-1 col-ml-auto"},r.a.createElement("label",{className:"form-label",htmlFor:"password"},"Password:"," ")),r.a.createElement("div",{className:"col-3 col-mr-auto"},r.a.createElement("input",{className:"form-input",placeholder:"password",type:"password",name:"password",onChange:this.handleChange}))),r.a.createElement("div",{className:"form-group "},r.a.createElement("div",{className:"col-7"}),r.a.createElement("button",{className:"btn btn-primary col-1 col-mr-auto",onClick:this.handleSubmit,type:"submit"},"Sign up"))))}}]),t}(n.Component),T=function(e){Object(d.a)(t,e);var a=Object(E.a)(t);function t(){var e;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=a.call.apply(a,[this].concat(r))).state={isLoggedIn:!1,username:null,password:null},e.updateUser=function(a,t){e.setState((function(e){return Object(i.a)(Object(i.a)({},e),{},{[a]:t})}))},e.getUser=function(){console.log("in getUser"),g.a.get("/").then((function(a){a.data.user?e.setState({isLoggedIn:!0,username:a.data.user.username}):e.setState({isLoggedIn:!1,username:null})}))},e.register=Object(m.a)(o.a.mark((function a(){var t,n,r;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.state,n=t.username,r=t.password,a.next=3,g.a.post("/signup",{username:n,password:r});case 3:200===a.sent.status?(e.setState({isLoggedIn:!0}),e.props.history.push("/")):console.log("signup error");case 5:case"end":return a.stop()}}),a)}))),e.login=Object(m.a)(o.a.mark((function a(){var t,n,r;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.state,n=t.username,r=t.password,a.next=3,g.a.post("/login/",{username:n,password:r});case 3:200===a.sent.status?(e.setState({isLoggedIn:!0}),e.props.history.push("/")):console.log("login error");case 5:case"end":return a.stop()}}),a)}))),e.logout=function(){g.a.post("/logout").then((function(a){200===a.status&&(e.setState({isLoggedIn:!1,username:null,password:null}),e.props.history.push("/"))})).catch((function(e){console.log("logout error",e)}))},e}return Object(p.a)(t,[{key:"componentDidMount",value:function(){this.getUser()}},{key:"render",value:function(){var e=this;return console.log("state",this.state),r.a.createElement("div",{className:"App"},r.a.createElement(L,{isLoggedIn:this.state.isLoggedIn,logout:this.logout}),r.a.createElement(f.d,null,r.a.createElement(f.b,{exact:!0,path:"/",render:function(){return r.a.createElement(S,{isLoggedIn:e.state.isLoggedIn,username:e.state.username})}}),r.a.createElement(f.b,{path:"/login",render:function(){return r.a.createElement(U,{username:e.state.username,password:e.state.password,updateUser:e.updateUser,login:e.login})}}),r.a.createElement(f.b,{path:"/signup",render:function(){return r.a.createElement(A,{username:e.state.username,password:e.state.password,updateUser:e.updateUser,register:e.register})}})))}}]),t}(n.Component);s.a.render(r.a.createElement(x.a,null,r.a.createElement(T,null)),document.getElementById("root"))}},[[55,1,2]]]);
//# sourceMappingURL=main.3426c2e7.chunk.js.map